<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="UTF-8"></script>
</head>
<body>
    <h1>SVG BAR</h1>
    <svg>
        <rect width="50" height="200" style="fill: blue">
    </svg>

    <svg width="100" height="100">
        <circle cx="50" cy="50" r="25" style="fill: blue">
    </svg>

    <h1>D3 JS</h1>
    <script>
        // var w = 500;
        // var h  = 100;
        // var padding = 2;
        // var dataset = [5, 10, 15, 20, 25];
        // var svg = d3.select("body")
        //             .append("svg")
        //             .attr("width", w)
        //             .attr("height", h)
        //             .style('fill', "gray")

        // svg.selectAll("rect")
        //     .data(dataset)
        //     .enter()
        //     .append("rect")
        //         .attr("x", function(d, i){ return (i * 25)})
        //         .attr("y", function (d){
        //             console.log(h - d)
        //             return h - (d * 3)})
        //         .attr("width", 20)
        //         .attr("height", function(d){ return d * 3 })

        // BAR CHART
        // var w = 300;
        // var h = 500;
        // var padding = 2;
        // var dataset = [5, 10, 14, 20, 25, 11, 25, 22, 18, 7];
        // var svg = d3.select("body")
        //             .append("svg")
        //             .attr("width", w)
        //             .attr("height", h);


        // function colorPicker(v){
        //     if( v <= 20 ){ return "#66666" };
        //     if( v > 20 ){ return "#FF0033" };
        // };


        // svg.selectAll("rect")
        //     .data(dataset)
        //     .enter()
        //     .append("rect")
        //         .attr("x", function(d, i){ return i * (w / dataset.length); })
        //         .attr("y", function(d){ return h - (d * 4); })
        //         .attr("width", w / dataset.length - padding)
        //         .attr("height", function(d){ return d * 4 })
        //         .attr("fill", function(d){ return colorPicker(d) });

        // svg.selectAll("text")
        //     .data(dataset)
        //     .enter()
        //     .append("text")
        //     .text(function(d){ return d })
        //     .attr({
        //         "text-anchor" : "middle",
        //         "font-famliy" : "sans-serif",
        //         "fill" : "#ffffff",
        //         "font-size" : "12",
        //         x : function(d, i){ return i * ( w / dataset.length) + 15},
        //         y : function( d ){ return h - (d*3) + 10},

        //     });



        //LINE CHART 

        var h = 300;
        var w = 500;

        monthlySales = [
            {"month": 10, "sales": 200},
            {"month": 20, "sales": 150},
            {"month": 30, "sales": 140},
            {"month": 40, "sales": 200},
            {"month": 50, "sales": 210},
            {"month": 60, "sales": 150},
            {"month": 70, "sales": 220},
            {"month": 80, "sales": 90},
            {"month": 90, "sales": 240},
            {"month": 100, "sales": 70},
        ];
        

        //actually draws a line graph
        var lineFun = d3.svg.line()
            .x(function(d){ return d.month*5 })
            .y(function(d){ return h - d.sales; })
            .interpolate("linear");
        
        //a size of scope that wrap the line graph 
        var svg = d3.select("body")
                    .append("svg")
                    .attr({width: w, height: h});

        var viz = svg.append("path")
                    .attr({d: lineFun(monthlySales),
                            "stroke" : "purple",
                            "stroke-width" : 2, //여기선 라인그래프 두꼐 또는 도형을 그릴떄는 외곽선 고정 , svg영역안에 있는 도형의 크기가 변경되면 stroke-width를 지정하지 않을경우  padding이 안에있는 도형크기데 따라 변경되는것을 방지  
                            "fill" : "none"
                    });

        var lables = svg.selectAll("text")
                        .data(monthlySales)
                        .enter()
                        .append("text")
                        .text(function(d){ return d.sales })
                        .attr({
                            x: function(d){ return d.month * 5 + 5 },
                            y: function(d) { return h - d.sales }
                        })
                        .style({"font-weight": 600})
        
    </script>
    
</body>
</html>